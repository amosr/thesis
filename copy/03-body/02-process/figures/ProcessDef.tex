%!TEX root = ../Main.tex

\begin{figure}
\begin{center}
\begin{minipage}[t]{0.4\textwidth}
\begin{tabbing}
MMMMMx \TABDEF @MMMMM@  \TABSKIP $\Exp$ \TABSKIP $\Exp$ \TABSKIP $\Exp$ \kill

\Exp,~$e$       \> ::= \> ~~~ $x~|~v~|~e~e ~|~ (e~||~e) ~|~ e+e ~|~ e~@/=@~e ~|~ e < e$ \\
\Value,~$v$     \> ::= \> ~~~ $\mathbb{N}~|~\mathbb{B}~|~(\lambda{}x.~e)~|~@uninitialised@$ \\
\Heap,~$bs$     \> ::= \> ~~~ $\cdot~|~bs,~x~=~v$ \\
\Updates,~$us$  \> ::= \> ~~~ $\cdot~|~us,~x~=~e$
\\[0.5em]

\Proc,~$p$      \> ::=\> @process@ \\
MMMMMM \= M \= \kill
\> \> @ins:   @  $(\Chan ~\mapsto~ \InputState)$ \\
\> \> @outs:  @  $\sgl{\Chan}$ \\
\> \> @heap:  @  \Heap \\
\> \> @label: @  \Label \\
\> \> @instrs:@  $(\Label ~\mapsto~ \Instr)$ 
\\[0.5em]
\InputState \> ::= \> ~~ @none@~$|$~@pending@~\Value~$|$~@have@~$|$~@closed@
\end{tabbing}

\begin{tabbing}
MMMMMM \TABDEF MMMM \TABSKIP $\Chan$ \TABSKIP $\Chan$ \TABSKIP $\Next$ \TABSKIP \kill

\Var,~$x$       \> $\to$ \> ~~~ (value variable) \\
\Chan,~$c$      \> $\to$ \> ~~~ (channel name) \\
\Label,~$l$     \> $\to$ \> ~~~ (label name) \\ 
\ChannelStates  \> ~ =   \> ~~~ $(\Chan \mapsto \InputState)$ \\
\Action,~$a$   \> ::=    \> ~~~ $\cdot ~~|~~ \Push~\Chan~\Value ~~|~~ \Close~\Chan$ \\[0.5em]

\Instr
    \> ::=\> @pull@  \> \Chan  \> \Var  \> \Next \> \Next \\
    \TABALT  @push@  \> \Chan  \> \Exp  \> \Next \\
    \TABALT  @close@ \> \Chan  \>       \> \Next \\
    \TABALT  @drop@  \> \Chan  \>       \> \Next \\
    \TABALT  @case@  \> \Exp   \> \Next \> \Next \\
    \TABALT  @jump@  \>        \>       \> \Next \\
    \TABALT  @exit@  \\
\\[0.5em]

\Next \> = \> $\Label~\times~\Updates$ 
\end{tabbing}
\end{minipage}
\end{center}
\caption{Process definitions}
\label{fig:Process:Def}
\end{figure}

