\part{Clustering}
\label{part:clustering}

\input{copy/03-body/clustering/style/utils.tex}

The key to compiling functional, collection oriented array programs into efficient code is to minimise memory traffic.
Simply fusing subsequent array operations into a single computation is not sufficient; we also need to cluster \emph{separate} traversals of the same array into a single traversal.
Previous work demonstrated how Integer Linear Programming (ILP) can be used to cluster the operators in a general data-flow graph into subgraphs, which can be individually fused.
However, these approaches can only handle operations which preserve the size of the array, thereby missing out on some optimisation opportunities.
This paper addresses this shortcoming by extending the ILP approach with support for size-changing operations, using an external ILP solver to find good clusterings.



\input{copy/03-body/clustering/section/01-Introduction.tex}
\input{copy/03-body/clustering/section/02-CNF.tex}
\input{copy/03-body/clustering/section/03-SizeInference.tex}
\input{copy/03-body/clustering/section/04-ILP.tex}
\input{copy/03-body/clustering/section/05-Benchmarks.tex}
\input{copy/03-body/clustering/section/06-Related.tex}
\input{copy/03-body/clustering/section/07-Conclusion.tex}


