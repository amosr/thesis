\begin{figure}
\begin{tabbing}
MMMM       \= MM  \= \kill
$V$ \> @::=@ \> $(\name \times T)$ \\
$E$ \> @::=@ \> $(\name \times \name \times E_T)$ \\
$E_T$ \> @::=@ \> $\fusible ~|~ \fusionpreventing$ \\
\\
$\nodes$     \> @  :@ \> $\program \to \{V\}$                          \\
$\nodes(bs)$ \> $~~= \{(\name(b), \iiter_{\Gamma,C}(b)) ~|~ b \in bs\}$
\\
\\
$\edges$     \> @  :@ \> $\program \to \{E\}$                          \\
$\edges(bs)$ \> $~~= \bigcup_{b \in bs} \edge(bs, b)$
\\
\\
MM             \= M \= $\Hs@gather@~$ \= $\data~\indices$ \= \kill
$\edge$      \> ~@:@ \> $\{\bind\} \times \bind \to \{E\}$ \\
$\edge(bs, \out = b)$ \\
   \> $~|$ \> $\Hs@fold@$ \> $f~in$ \> $\gets b$ \\
   \> $~|$ \> $\Hs@map@$ \> $f~in$ \> $\gets b$ \\
   \> $~|$ \> $\Hs@filter@$ \> $f~in$ \> $\gets b$ \\
    \> $=$    \> $\{\inedge(bs,\out,s) ~|~ s \in \fv(f)\} \cup \{\inedge(bs, \out, in) \}$
\\[1ex]
% $\edge(bs, \out = \Hs@map@~f~in)$  \\
%     \> $=$    \> $\{\inedge(bs,\out,s) ~|~ s \in \fv(f)\} \cup \{\inedge(bs, \out, in) \}$
% \\
% $\edge(bs, \out = \Hs@filter@~f~in)$ \\
%     \> $=$    \> $\{\inedge(bs,\out,s) ~|~ s \in \fv(f)\} \cup \{\inedge(bs, \out, in) \}$
% \\
   \> $~|$ \> $\Hs@gather@~\data~\indices$ \> \> $\gets b$ \\
% $\edge(bs, \out = \Hs@gather@~data~indices)$ \\
    \> $=$    \> $\{(\out,\data, \fusionpreventing) \} \cup \{\inedge(bs, \out, \indices) \}$      
\\[1ex]
   \> $~|$ \> $\Hs@cross@~a~b$ \> \> $\gets b$ \\
% $\edge(bs, \out = \Hs@cross@~a~b)$ \\
    \> $=$    \> $\{\inedge(bs, \out, a) \}           \cup      \{(\out, b, \fusionpreventing) \}$
\\[1ex]
   \> $~|$ \> $\Hs@external@~ins$ \> \> $\gets b$ \\
% $\edge(bs, \outs = \Hs@external@~ins)$  \\
    \> $=$    \> $\{(o,i, \fusionpreventing) ~|~ o \in \out,~ i \in ins \}$
\\
\\
$\inedge$ @:@ $\{\bind\} \times \name \times \name \to E$
\\
$\inedge(bs,to,\from)$ \\
    \> $~|$ \> $(\from = \Hs@fold@~f~s) \in bs$     \\
    \> $=$ \> $(to, \from, \fusionpreventing)$
\\[1ex]
    \> $~|$ \> $(\outs = \Hs@external@ \ldots) \in bs     \wedge \from \in \outs$     \\
    \> $=$ \> $(to, \outs, \fusionpreventing)$
\\[1ex]
    \> $~|$ \> $otherwise$                      \\
    \> $=$ \> $(to, \from, \fusible)$
\end{tabbing}

\caption{Dependency Graphs from Programs}
\label{clustering:f:DependencyGraph}
\end{figure}

