%!TEX root = ../Main.tex

\begin{figure}
  \begin{center}
  \begin{minipage}{0.4\textwidth}
\begin{tabbing}
MMMM \= MM \= MMM \= MM \= MMMMMM \= \kill
$\mi{T}$
\GrammarDefTab
  $\Ic@Int@~|~\Ic@Bool@~|~\Ic@Map@~T~T~|~(T~\times~T)$
\\
\\
$\mi{\TauMode}$
\GrammarDefTab
  $T~|~\Ic@Element@~T~|~\Ic@Aggregate@~T$
\\
\\
$\mi{\TauFun}$
\GrammarDefTab
  $\ov{(\TauMode)}~\to~\TauMode$
\\
\\

$\mi{Table}$
\GrammarDefTab
  $\Ic@table@~x~@{@~\ov{(x~:~T;)}~@}@$
\\
\\

$\mi{Exp}$, $e$
\GrammarDefTab
  $x~|~V~|~\mi{Prim}~\ov{\mi{Exp}}~|~x~\ov{\mi{Exp}}$
\GrammarAlt
  $\Ic@let@$   \> $x~=$ \> $\mi{Exp}~\Ic@  in@~\mi{Exp}$
\GrammarAlt
  $\Ic@fold@$  \> $x~=$ \> $\mi{Exp}~\Ic@then@~\mi{Exp}$
\GrammarAlt
  $\Ic@filter@$\> \> $\mi{Exp}~\Ic@  of@~\mi{Exp}$
\GrammarAlt
  $\Ic@group@$ \> \> $\mi{Exp}~\Ic@  of@~\mi{Exp}$
\\
\\

$\mi{Prim}$, $p$
\GrammarDefTab
  $(@+@)~|~(@-@)~|~(@*@)~|~(@/@)~|~(@==@)~|~(@/=@)~|~(@<@)~|~(@>@)~|~(@,@)$
\GrammarAlt
  $\Ic@lookup@~|~\Ic@fst@~|~\Ic@snd@$
\\
\\

$V$, $v$
\GrammarDefTab
 $\mathbb{N}~|~\mathbb{B}~|~\{V \Rightarrow V\}~|~(V~\times~V)$
\\
\\


$\mi{Def}$
\GrammarDefTab
  $\Ic@function@~f~\ov{(x~:~\TauMode)}~=~\mi{Exp}$
\GrammarAlt
  $\Ic@query@~x~=~\mi{Exp}$
\\
\\
$\mi{Top}$
\GrammarDefTab
  $\mi{Table};~\ov{\mi{Def};}$
\end{tabbing}
\end{minipage}
  \end{center}

\caption{Icicle grammar}
\label{icicle:fig:source:grammar}
\end{figure}

